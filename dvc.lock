schema: '2.0'
stages:
  preprocessing:
    cmd: python dvc_scripts cli-preprocessing data\dvc_data\raw_data\data.csv data\dvc_data\processed\data_preprocessed.csv
    deps:
    - path: data\dvc_data\raw_data\data.csv
      hash: md5
      md5: 416dbaae1e40fedb40d630edd694833b
      size: 64950309
    - path: dvc_scripts\preprocessing.py
      hash: md5
      md5: 6acd853644fe02cf92f06179cecb0640
      size: 2965
    outs:
    - path: data\dvc_data\processed\data_preprocessed.csv
      hash: md5
      md5: 70b2e0bfc880984465c1c91ed656b9ad
      size: 38952625
  split_data:
    cmd: python dvc_scripts cli-split data\dvc_data\processed\data_preprocessed.csv
      data\dvc_data\processed\train.csv data\dvc_data\processed\test.csv
    deps:
    - path: data\dvc_data\processed\data_preprocessed.csv
      hash: md5
      md5: 70b2e0bfc880984465c1c91ed656b9ad
      size: 38952625
    - path: dvc_scripts\split.py
      hash: md5
      md5: 0d8ec486e2a6f6d91d0e56ed3d86bf4e
      size: 1397
    params:
      params.yaml:
        random_state: 42
        test_train_split: 0.3
    outs:
    - path: data\dvc_data\processed\test.csv
      hash: md5
      md5: e56bd3bbd14cdc62f34714fd7f89c9e5
      size: 12213131
    - path: data\dvc_data\processed\train.csv
      hash: md5
      md5: 57c4ef66d2121fa44daedcbcdf92ecde
      size: 27743463
  train_vectorizer:
    cmd: python dvc_scripts cli-tfidf data\dvc_data\processed\train.csv dvc_artifacts\models\vectorizer.pickle
    deps:
    - path: data\dvc_data\processed\train.csv
      hash: md5
      md5: 57c4ef66d2121fa44daedcbcdf92ecde
      size: 27743463
    - path: dvc_scripts\vectorize.py
      hash: md5
      md5: 98085d2583bfa9aec5a5cb5c42a1d4ae
      size: 1358
    params:
      params.yaml:
        vectorizer_tfidf:
          max_features: 20000
          analyzer: word
    outs:
    - path: dvc_artifacts\models\vectorizer.pickle
      hash: md5
      md5: 8a7839f5fb2ab1168bc53194f47c7592
      size: 2058792
  train_ml_model:
    cmd: python dvc_scripts cli-train data\dvc_data\processed\train.csv dvc_artifacts\models\vectorizer.pickle
      dvc_artifacts\ml_models\logistic_regression.pikle
    deps:
    - path: data\dvc_data\processed\train.csv
      hash: md5
      md5: 57c4ef66d2121fa44daedcbcdf92ecde
      size: 27743463
    - path: dvc_artifacts\models\vectorizer.pickle
      hash: md5
      md5: 8a7839f5fb2ab1168bc53194f47c7592
      size: 2058792
    - path: dvc_scripts\train_model.py
      hash: md5
      md5: 0afddaf98052871d5990a96ad56b3e3a
      size: 1273
    params:
      params.yaml:
        logistic_regression:
          random_state: 42
    outs:
    - path: dvc_artifacts\ml_models\logistic_regression.pikle
      hash: md5
      md5: 20ea6cbe9c3e25323ac7609cc38acbe0
      size: 160723
